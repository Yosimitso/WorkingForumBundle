!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([,,,,,,,,function(e,t,n){n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17)},function(e,t,n){},function(e,t,n){},function(e,t,n){var r={extensions:{},forEach:function(e,t){if("function"==typeof e.forEach)e.forEach(t);else for(var n=e.length,r=0;r<n;r++)t(e[r],r,e)},converter:function(e){var t,n,i,o,a=0,s=[],l=[];function c(e){return e=C(e),e=g(e),e=E(e),e=b(e),e=m(e),e=j(e),e=T(e),(e=I(e)).replace(/  +\n/g," <br />\n")}this.makeHtml=function(e,o){t={},n={},i=[],e=(e=(e=(e=e.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),e=(e=F(e="\n\n"+e+"\n\n")).replace(/^[ \t]+$/gm,""),r.forEach(s,(function(t){e=u(t,e)})),e=k(e),e=h(e),e=d(e),e=f(e),e=(e=(e=L(e)).replace(/~D/g,"$$")).replace(/~T/g,"~"),r.forEach(l,(function(t){e=u(t,e)}));var a=":("+["smile","wink","angry","biggrin","crying","frown","tongue","yawn","zipped","sick","whistle","evil","stress","delicious","bashful","bored","confused","heart","love","oh","nerdy","present","sun","sunglasses","xd","football","tennis","basketball","thumbup","thumbdown"].join("|")+"):";return e=(e=e.replace(new RegExp(a,"g"),'<img src="'+o+'images/smiley/$1.png" />')).replace(/\[quote=(\d+)\]/g,(function(e,t){var n=document.querySelector("#wf_post\\["+t+"\\] .wf_username");return n?"<blockquote><br /><strong>"+n.innerHTML+" "+storeJs.trans["forum.has_written"]+"</strong><br />"+document.querySelector("#wf_post\\["+t+"\\] .wf_post_content").innerHTML+"</blockquote>":"<blockquote><br /><em>"+storeJs.trans["message.quote_unavailable"].replace("%id%",t)+"</em></blockquote>"}))},e&&e.extensions&&(o=this,r.forEach(e.extensions,(function(e){if("function"!=typeof(e="string"==typeof e?r.extensions[e.replace(/[_-]||\s/g,"").toLowerCase()]:e))throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";r.forEach(e(o),(function(e){e.type?"language"===e.type||"lang"===e.type?s.push(e):"output"!==e.type&&"html"!==e.type||l.push(e):l.push(e)}))})));var u=function(e,t){if(e.regex){var n=new RegExp(e.regex,"g");return t.replace(n,e.replace)}if(e.filter)return e.filter(t)},d=function(e){return(e=(e+="~0").replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,(function(e,r,i,o,a){return r=r.toLowerCase(),t[r]=T(i),o?o+a:(a&&(n[r]=a.replace(/"/g,"&quot;")),"")}))).replace(/~0/,"")},h=function(e){return(e=(e=(e=(e=(e=(e=e.replace(/\n/g,"\n\n")).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,p)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,p)).replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,p)).replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,p)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,p)).replace(/\n\n/g,"\n")},p=function(e,t){return t=(t=(t=t.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n~K"+(i.push(t)-1)+"K\n\n"},f=function(e){e=y(e);var t=S("<hr />");return e=(e=(e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t)).replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=x(e),e=_(e),e=P(e),e=h(e),z(e)},g=function(e){return e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,(function(e){return e=e.replace(/(.)<\/?code>(?=.)/g,"$1`"),M(e,"\\`*_")}))},m=function(e){return(e=(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,v)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,v)).replace(/(\[([^\[\]]+)\])()()()()()/g,v)},v=function(e,r,i,o,a,s,l,c){if(null==c&&(c=""),o=o.toLowerCase(),""==a)if(a="#"+(o=""==o?i.toLowerCase().replace(/ ?\n/g," "):o),null!=t[o])a=t[o],null!=n[o]&&(c=n[o]);else{if(!(-1<r.search(/\(\s*\)$/m)))return r;a=""}return a='<a href="'+(a=M(a,"*_"))+'"',""!=c&&(c=c.replace(/"/g,"&quot;"),a+=' title="'+(c=M(c,"*_"))+'"'),a+">"+i+"</a>"},b=function(e){return(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w)},w=function(e,r,i,o,a,s,l,c){if(o=o.toLowerCase(),c=c||"",""==a){if(a="#"+(o=""==o?i.toLowerCase().replace(/ ?\n/g," "):o),null==t[o])return r;a=t[o],null!=n[o]&&(c=n[o])}return i=i.replace(/"/g,"&quot;"),i='<img src="'+(a=M(a,"*_"))+'" alt="'+i+'"',c=c.replace(/"/g,"&quot;"),(i+=' title="'+(c=M(c,"*_"))+'"')+" />"},y=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,(function(e,n){return S('<h1 id="'+t(n)+'">'+c(n)+"</h1>")}))).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,(function(e,n){return S('<h2 id="'+t(n)+'">'+c(n)+"</h2>")}))).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,(function(e,n,r){return n=n.length,S("<h"+n+' id="'+t(r)+'">'+c(r)+"</h"+n+">")}))},x=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return(e=a?e.replace(t,(function(e,t,n){return n=-1<n.search(/[*+-]/g)?"ul":"ol",t=t.replace(/\n{2,}/g,"\n\n\n"),"<"+n+">"+(t=(t=$(t)).replace(/\s+$/,""))+"</"+n+">\n"})):e.replace(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,(function(e,t,n,r){return r=-1<r.search(/[*+-]/g)?"ul":"ol",n=n.replace(/\n{2,}/g,"\n\n\n"),t+"<"+r+">\n"+$(n)+"</"+r+">\n"}))).replace(/~0/,"")},$=function(e){return a++,e=e.replace(/\n{2,}$/,"\n"),e=(e=(e+="~0").replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,(function(e,t,n,r,i){return"<li>"+(i=t||-1<i.search(/\n{2,}/)?f(N(i)):c(i=(i=x(N(i))).replace(/\n$/,"")))+"</li>\n"}))).replace(/~0/g,""),a--,e},_=function(e){return(e=(e+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(e,t,n){return t=B(N(t=t)),t=(t=(t=F(t)).replace(/^\n+/g,"")).replace(/\n+$/g,""),S(t="<pre><code>"+t+"\n</code></pre>")+n}))).replace(/~0/,"")},k=function(e){return(e=(e+="~0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,(function(e,t,n){return n=B(n=n),n=(n=(n=F(n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),S(n="<pre><code"+(t?' class="'+t+'"':"")+">"+n+"\n</code></pre>")}))).replace(/~0/,"")},S=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(e)-1)+"K\n\n"},C=function(e){return e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,t,n,r,i){return r=(r=r.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),t+"<code>"+(r=B(r))+"</code>"}))},B=function(e){return e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),M(e,"*_{}[]\\",!1)},I=function(e){return(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},P=function(e){return e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(e,t){return t=(t=(t=t.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),t=(t=(t=f(t)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){return t.replace(/^  /gm,"~0").replace(/~0/g,"")})),S("<blockquote>\n"+t+"\n</blockquote>")}))},z=function(e){for(var t=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),n=[],r=t.length,o=0;o<r;o++){var a=t[o];0<=a.search(/~K(\d+)K/g)?n.push(a):0<=a.search(/\S/)&&(a=(a=c(a)).replace(/^([ \t]*)/g,"<p>"),a+="</p>",n.push(a))}for(r=n.length,o=0;o<r;o++)for(;0<=n[o].search(/~K(\d+)K/);){var s=(s=i[RegExp.$1]).replace(/\$/g,"$$$$");n[o]=n[o].replace(/~K\d+K/,s)}return n.join("\n\n")},T=function(e){return(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")},E=function(e){return(e=e.replace(/\\(\\)/g,q)).replace(/\\([`*_{}\[\]()>#+-.!])/g,q)},j=function(e){return(e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>')).replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,(function(e,t){return O(L(t))}))},O=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return(e='<a href="'+(e=(e="mailto:"+e).replace(/./g,(function(e){var n;return"@"==e?e=t[Math.floor(2*Math.random())](e):":"!=e&&(e=.9<(n=Math.random())?t[2](e):.45<n?t[1](e):t[0](e)),e})))+'">'+e+"</a>").replace(/">.+:/g,'">')},L=function(e){return e.replace(/~E(\d+)E/g,(function(e,t){return t=parseInt(t),String.fromCharCode(t)}))},N=function(e){return(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")},F=function(e){return(e=(e=(e=(e=e.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,(function(e,t,n){for(var r=t,i=4-r.length%4,o=0;o<i;o++)r+=" ";return r}))).replace(/~A/g,"    ")).replace(/~B/g,"")},M=function(e,t,n){return t="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])",n&&(t="\\\\"+t),t=new RegExp(t,"g"),e.replace(t,q)},q=function(e,t){return"~E"+t.charCodeAt(0)+"E"}}};e.exports=r,window.Showdown=r,void 0===(t=function(){return r}.call(t,n,t,e))||(e.exports=t)},function(e,t,n){function r(e){return[{type:"lang",regex:"\\B(\\\\)?@([\\S]+)\\b",replace:function(e,t,n){return"\\"===t?e:'<a href="http://twitter.com/'+n+'">@'+n+"</a>"}},{type:"lang",regex:"\\B(\\\\)?#([\\S]+)\\b",replace:function(e,t,n){return"\\"===t?e:'<a href="http://twitter.com/search/%23'+n+'">#'+n+"</a>"}},{type:"lang",regex:"\\\\@",replace:"@"}]}"undefined"!=typeof window&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.twitter=r),e.exports=r},function(e,t,n){function r(e){return[{type:"lang",regex:"(~T){2}([^~]+)(~T){2}",replace:function(e,t,n,r){return"<del>"+n+"</del>"}}]}"undefined"!=typeof window&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.github=r),e.exports=r},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";function t(t,r){e.each(["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"],(function(i,o){void 0!==e(t).data(o)&&((r="object"==n(r)?r:{})[o]=e(t).data(o))})),this.$ns="bootstrap-markdown",this.$element=e(t),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=e.extend(!0,{},e.fn.markdown.defaults,r,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()}t.prototype={constructor:t,__alterButtons:function(t,n){var r=this.$handler,i="all"==t,o=this;e.each(r,(function(e,r){!1==(!i&&r.indexOf(t)<0)&&n(o.$editor.find('button[data-handler="'+r+'"]'))}))},__buildButtons:function(t,n){for(var r=this.$ns,i=this.$handler,o=this.$callback,a=0;a<t.length;a++)for(var s=t[a],l=0;l<s.length;l++){for(var c=s[l].data,u=e("<div/>",{class:"btn-group"}),d=0;d<c.length;d++){var h=c[d],p=r+"-"+h.name,f=this.__getIcon(h.icon),g=h.btnText||"",m=h.btnClass||"btn",v=h.tabIndex||"-1",b=void 0!==h.hotkey?h.hotkey:"",w=void 0!==jQuery.hotkeys&&""!==b?" ("+b+")":"",y=e("<button></button>");y.text(" "+this.__localize(g)).addClass("btn-default btn-sm").addClass(m),m.match(/btn\-(primary|success|info|warning|danger|link)/)&&y.removeClass("btn-default"),y.attr({type:"button",title:this.__localize(h.title)+w,tabindex:v,"data-provider":r,"data-handler":p,"data-hotkey":b}),!0===h.toggle&&y.attr("data-toggle","button"),(b=e("<span/>")).addClass(f),b.prependTo(y),u.append(y),i.push(p),o.push(h.callback)}n.append(u)}return n},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),n=5<this.$textarea.val().split("\n").length?this.$textarea.val().split("\n").length:"5";n=t?this.$textarea.attr("rows"):n;this.$textarea.attr("rows",n),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on("focus",e.proxy(this.focus,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)).on("change",e.proxy(this.change,this)).on("select",e.proxy(this.select,this)),this.eventSupported("keydown")&&this.$textarea.on("keydown",e.proxy(this.keydown,this)),this.$textarea.data("markdown",this)},__handle:function(t){var n=e(t.currentTarget),r=this.$handler,i=this.$callback;n=n.attr("data-handler"),r=i[r.indexOf(n)];e(t.currentTarget).focus(),r(this),this.change(this),n.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var n=e.fn.markdown.messages,r=this.$options.language;return void 0!==n&&void 0!==n[r]&&void 0!==n[r][t]?n[r][t]:t},__getIcon:function(e){return"object"==n(e)?e[this.$options.iconlibrary]:e},setFullscreen:function(t){var n=this.$editor,r=this.$textarea;!0===t?(n.addClass("md-fullscreen-mode"),e("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(n.removeClass("md-fullscreen-mode"),e("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,r.focus()},showEditor:function(){var t,r,i,o,a,s=this,l=this.$ns,c=this.$element,u=(c.css("height"),c.css("width"),this.$editable),d=this.$handler,h=this.$callback,p=this.$options,f=e("<div/>",{class:"md-editor",click:function(){s.focus()}});return null===this.$editor?(t=e("<div/>",{class:"md-header btn-toolbar"}),r=[],0<p.buttons.length&&(r=r.concat(p.buttons[0])),0<p.additionalButtons.length&&(r=r.concat(p.additionalButtons[0])),0<(r=0<p.reorderButtonGroups.length?r.filter((function(e){return-1<p.reorderButtonGroups.indexOf(e.name)})).sort((function(e,t){return p.reorderButtonGroups.indexOf(e.name)<p.reorderButtonGroups.indexOf(t.name)?-1:p.reorderButtonGroups.indexOf(e.name)>p.reorderButtonGroups.indexOf(t.name)?1:0})):r).length&&(t=this.__buildButtons([r],t)),p.fullscreen.enable&&t.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(p.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",(function(e){e.preventDefault(),s.setFullscreen(!0)})),f.append(t),c.is("textarea")?(c.before(f),(i=c).addClass("md-input"),f.append(i)):(o="function"==typeof toMarkdown?toMarkdown(c.html()):c.html(),a=e.trim(o),i=e("<textarea/>",{class:"md-input",val:a}),f.append(i),u.el=c,u.type=c.prop("tagName").toLowerCase(),u.content=c.html(),e(c[0].attributes).each((function(){u.attrKeys.push(this.nodeName),u.attrValues.push(this.nodeValue)})),c.replaceWith(f)),o=e("<div/>",{class:"md-footer"}),a=!1,c="",p.savable&&(a=!0,d.push(d="cmdSave"),h.push(p.onSave),o.append('<button class="btn btn-success" data-provider="'+l+'" data-handler="'+d+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")),c="function"==typeof p.footer?p.footer(this):p.footer,""!==e.trim(c)&&(a=!0,o.append(c)),a&&f.append(o),p.width&&"inherit"!==p.width&&(jQuery.isNumeric(p.width)?(f.css("display","table"),i.css("width",p.width+"px")):f.addClass(p.width)),p.height&&"inherit"!==p.height&&(jQuery.isNumeric(p.height)?(a=p.height,t&&(a=Math.max(0,a-t.outerHeight())),o&&(a=Math.max(0,a-o.outerHeight())),i.css("height",a+"px")):f.addClass(p.height)),this.$editor=f,this.$textarea=i,this.$editable=u,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',e.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"===n(jQuery.hotkeys)&&t.find('[data-provider="bootstrap-markdown"]').each((function(){var t=e(this),n=t.attr("data-hotkey");""!==n.toLowerCase()&&i.bind("keydown",n,(function(){return t.trigger("click"),!1}))})),"preview"===p.initialstate?this.showPreview():"fullscreen"===p.initialstate&&p.fullscreen.enable&&this.setFullscreen(!0)):this.$editor.show(),p.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),p.fullscreen.enable&&!1!==p.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(p.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",(function(e){e.preventDefault(),s.setFullscreen(!1)}))),this.hideButtons(p.hiddenButtons),this.disableButtons(p.disabledButtons),p.onShow(this),this},parseContent:function(e){e=e||this.$textarea.val();return e=this.$options.parser?this.$options.parser(e):"object"==("undefined"==typeof markdown?"undefined":n(markdown))?markdown.toHTML(e):"function"==typeof marked?marked(e):e},showPreview:function(){var t=this.$options,n=this.$textarea,r=n.next(),i=e("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview||(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(t=t.onPreview(this))?t:this.parseContent(),i.html(t),r&&"md-footer"==r.attr("class")?i.insertBefore(r):n.parent().append(i),i.css({width:parseInt(n.outerWidth()-21)+"px",height:parseInt(n.outerHeight()-22)+"px"}),this.$options.resize&&i.css("resize",this.$options.resize),n.hide(),i.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all"))),this},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(e){return this.$textarea.val(e),this},findSelection:function(e){var t;if(0<=(t=this.getContent().indexOf(e))&&0<e.length){var n=this.getSelection();return this.setSelection(t,t+e.length),e=this.getSelection(),this.setSelection(n.start,n.end),e}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e?function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}:function(){return null})()},setSelection:function(e,t){var n=this.$textarea[0];return("selectionStart"in n?function(){n.selectionStart=e,n.selectionEnd=t}:function(){return null})()},replaceSelection:function(e){var t=this.$textarea[0];return("selectionStart"in t?function(){return t.value=t.value.substr(0,t.selectionStart)+e+t.value.substr(t.selectionEnd,t.value.length),t.selectionStart=t.value.length,this}:function(){return t.value+=e,jQuery(t)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var e,t=this.$nextTab.shift();return"function"==typeof t?e=t():"object"==n(t)&&0<t.length&&(e=t),e},setNextTab:function(e,t){var n,r;"string"==typeof e?(n=this).$nextTab.push((function(){return n.findSelection(e)})):"number"==typeof e&&"number"==typeof t&&(r=this.getSelection(),this.setSelection(e,t),this.$nextTab.push(this.getSelection()),this.setSelection(r.start,r.end))},__parseButtonNameParam:function(e){return"string"==typeof e?e.split(","):e},enableButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,(function(e,t){r.__alterButtons(n[e],(function(e){e.removeAttr("disabled")}))})),this},disableButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,(function(e,t){r.__alterButtons(n[e],(function(e){e.attr("disabled","disabled")}))})),this},hideButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,(function(e,t){r.__alterButtons(n[e],(function(e){e.addClass("hidden")}))})),this},showButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,(function(e,t){r.__alterButtons(n[e],(function(e){e.removeClass("hidden")}))})),this},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},keyup:function(e){var t,n,r,i=!1;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:i=null!==(t=this.getNextTab())?(n=this,setTimeout((function(){n.setSelection(t.start,t.end)}),500),!0):((r=this.getSelection()).start!=r.end||r.end!=this.getContent().length)&&(this.setSelection(this.getContent().length,this.getContent().length),!0);break;case 13:i=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),i=!1;break;default:i=!1}i&&(e.stopPropagation(),e.preventDefault()),this.$options.onChange(this)},change:function(e){return this.$options.onChange(this),this},select:function(e){return this.$options.onSelect(this),this},focus:function(t){var n=this.$options,r=(n.hideable,this.$editor);return r.addClass("active"),e(document).find(".md-editor").each((function(){var t;e(this).attr("id")!==r.attr("id")&&(t=null===(t=e(this).find("textarea").data("markdown"))?e(this).find('div[data-provider="markdown-preview"]').data("markdown"):t)&&t.blur()})),n.onFocus(this),this},blur:function(t){var n,r=this.$options,i=r.hideable,o=this.$editor,a=this.$editable;return!o.hasClass("active")&&0!==this.$element.parent().length||(o.removeClass("active"),i&&(null!==a.el?(n=e("<"+a.type+"/>"),i=this.getContent(),i=this.parseContent(i),e(a.attrKeys).each((function(e,t){n.attr(a.attrKeys[e],a.attrValues[e])})),n.html(i),o.replaceWith(n)):o.hide()),r.onBlur(this)),this}};var r=e.fn.markdown;function i(e){e.data("markdown")?e.data("markdown").showEditor():e.markdown()}e.fn.markdown=function(r){return this.each((function(){var i=e(this),o=i.data("markdown"),a="object"==n(r)&&r;o||i.data("markdown",new t(this,a))}))},e.fn.markdown.messages={},e.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(e){var t=e.getSelection(),n=e.getContent(),r=0===t.length?e.__localize("strong text"):t.text;t="**"===n.substr(t.start-2,2)&&"**"===n.substr(t.end,2)?(e.setSelection(t.start-2,t.end+2),e.replaceSelection(r),t.start-2):(e.replaceSelection("**"+r+"**"),t.start+2);e.setSelection(t,t+r.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(e){var t=e.getSelection(),n=e.getContent(),r=0===t.length?e.__localize("emphasized text"):t.text;t="_"===n.substr(t.start-1,1)&&"_"===n.substr(t.end,1)?(e.setSelection(t.start-1,t.end+1),e.replaceSelection(r),t.start-1):(e.replaceSelection("_"+r+"_"),t.start+1);e.setSelection(t,t+r.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(e){var t,n=e.getSelection(),r=e.getContent(),i=0===n.length?e.__localize("heading text"):n.text+"\n";n="### "===r.substr(n.start-(t=4),t)||"###"===r.substr(n.start-(t=3),t)?(e.setSelection(n.start-t,n.end),e.replaceSelection(i),n.start-t):0<n.start&&(r=r.substr(n.start-1,1))&&"\n"!=r?(e.replaceSelection("\n\n### "+i),n.start+6):(e.replaceSelection("### "+i),n.start+4);e.setSelection(n,n+i.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var n=t.getSelection(),r=(t.getContent(),0===n.length?t.__localize("enter link description here"):n.text),i=prompt(t.__localize("Insert Hyperlink"),"http://");null!==i&&""!==i&&"http://"!==i&&"http"===i.substr(0,4)&&(i=e("<div>"+i+"</div>").text(),t.replaceSelection("["+r+"]("+i+")"),n=n.start+1,t.setSelection(n,n+r.length))}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var n=t.getSelection(),r=(t.getContent(),0===n.length?t.__localize("enter image description here"):n.text),i=prompt(t.__localize("Insert Image Hyperlink"),"http://");null!==i&&""!==i&&"http://"!==i&&"http"===i.substr(0,4)&&(i=e("<div>"+i+"</div>").text(),t.replaceSelection("!["+r+"]("+i+' "'+t.__localize("enter image title here")+'")'),n=n.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(n,n+r.length))}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var n,r,i=t.getSelection();t.getContent(),i=0===i.length?(r=t.__localize("list text here"),t.replaceSelection("- "+r),i.start+2):i.text.indexOf("\n")<0?(r=i.text,t.replaceSelection("- "+r),i.start+2):(n=[],r=(n=i.text.split("\n"))[0],e.each(n,(function(e,t){n[e]="- "+t})),t.replaceSelection("\n\n"+n.join("\n")),i.start+4),t.setSelection(i,i+r.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var n,r,i=t.getSelection();t.getContent(),i=0===i.length?(r=t.__localize("list text here"),t.replaceSelection("1. "+r),i.start+3):i.text.indexOf("\n")<0?(r=i.text,t.replaceSelection("1. "+r),i.start+3):(n=[],r=(n=i.text.split("\n"))[0],e.each(n,(function(e,t){n[e]="1. "+t})),t.replaceSelection("\n\n"+n.join("\n")),i.start+5),t.setSelection(i,i+r.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(e){var t=e.getSelection(),n=e.getContent(),r=0===t.length?e.__localize("code text here"):t.text;t="```\n"===n.substr(t.start-4,4)&&"\n```"===n.substr(t.end,4)?(e.setSelection(t.start-4,t.end+4),e.replaceSelection(r),t.start-4):"`"===n.substr(t.start-1,1)&&"`"===n.substr(t.end,1)?(e.setSelection(t.start-1,t.end+1),e.replaceSelection(r),t.start-1):-1<n.indexOf("\n")?(e.replaceSelection("```\n"+r+"\n```"),t.start+4):(e.replaceSelection("`"+r+"`"),t.start+1);e.setSelection(t,t+r.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var n,r,i=t.getSelection();t.getContent(),i=0===i.length?(r=t.__localize("quote here"),t.replaceSelection("> "+r),i.start+2):i.text.indexOf("\n")<0?(r=i.text,t.replaceSelection("> "+r),i.start+2):(n=[],r=(n=i.text.split("\n"))[0],e.each(n,(function(e,t){n[e]="> "+t})),t.replaceSelection("\n\n"+n.join("\n")),i.start+4),t.setSelection(i,i+r.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(e){!1===e.$isPreview?e.showPreview():e.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(e){},onPreview:function(e){},onSave:function(e){},onBlur:function(e){},onFocus:function(e){},onChange:function(e){},onFullscreen:function(e){},onSelect:function(e){}},e.fn.markdown.Constructor=t,e.fn.markdown.noConflict=function(){return e.fn.markdown=r,this},e(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',(function(t){i(e(this)),t.preventDefault()})).on("click focusin",(function(t){var n;n=e(document.activeElement),e(document).find(".md-editor").each((function(){var t=e(this),r=n.closest(".md-editor")[0]===this;(t=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown"))&&!r&&t.blur()}))})).ready((function(){e('textarea[data-provide="markdown"]').each((function(){i(e(this))}))}))}(window.jQuery)},function(e,t){jQuery.fn.markdown.messages.fr={Bold:"Gras",Italic:"Italique",Heading:"Titre","URL/Link":"Insérer un lien HTTP",Image:"Insérer une image",List:"Liste à puces",Preview:"Prévisualiser","strong text":"texte important","emphasized text":"texte souligné","heading text":"texte d'entête","enter link description here":"entrez la description du lien ici","Insert Hyperlink":"Insérez le lien hypertexte","enter image description here":"entrez la description de l'image ici","Insert Image Hyperlink":"Insérez le lien hypertexte de l'image","enter image title here":"entrez le titre de l'image ici","list text here":"texte à puce ici"}},function(e,t){var n;(n=jQuery).fn.nicefileinput=function(e){var t={label:"Browse...",fullPath:!1};return e&&n.extend(t,e),this.each((function(){var e,r,i,o=this;void 0===n(o).attr("data-styled")&&(i=Math.round(1e4*Math.random()),e=(new Date).getTime()+i.toString(),r=n('<input type="text" readonly="readonly">').css({display:"block",float:"left",margin:0,padding:"0 5px"}).addClass("NFI-filename NFI"+e),i=n("<div>").css({overflow:"hidden",position:"relative",display:"block",float:"left","white-space":"nowrap","text-align":"center"}).addClass("NFI-button NFI"+e).attr("disabled",n(o).attr("disabled")).html(t.label),n(o).after(r),n(o).wrap(i),n(".NFI"+e).wrapAll('<div class="NFI-wrapper" id="NFI-wrapper-'+e+'" />'),n(".NFI-wrapper").css({overflow:"auto",display:"inline-block"}),n("#NFI-wrapper-"+e).addClass(n(o).attr("class")),n(o).css({opacity:0,position:"absolute",border:"none",margin:0,padding:0,top:0,right:0,cursor:"pointer",height:"60px"}).addClass("NFI-current"),n(o).on("change",(function(){var e=n(o).val();t.fullPath?r.val(e):(e=e.split(/[/\\]/),r.val(e[e.length-1]))})),n(o).attr("data-styled",!0))}))}},function(e,t){jQuery(document).ready((function(){jQuery(".wf_textarea_post").markdown({language:storeJs.locale,onPreview:function(e){return new Showdown.converter({extensions:["twitter","github"]}).makeHtml(nl2br(e.getContent()),storeJs.assetPath)},fullscreen:{enable:!1}}),jQuery("#wf_form_post").submit((function(t){getCookie("post_editor_".concat(storeJs.postEditorId))&&(t.preventDefault(),clearInterval(e),eraseCookie("post_editor_".concat(storeJs.postEditorId)),t.target.submit())})),nl2br=function(e){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1".concat("<br />","$2"))},getCookie=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},setTimeout((function(){getSavedPostEditor()}),1e3),getSavedPostEditor=function(){var e=document.getElementsByClassName("wf_textarea_post")[0],t=document.getElementsByClassName("wf_thread")[0].getAttribute("data-id");(t=getCookie("post_editor_".concat(t)))&&(e.value=t)},setCookie=function(e,t,n){var r,i="";n&&((r=new Date).setTime(r.getTime()+24*n*60*60*1e3),i="; expires=".concat(r.toUTCString())),document.cookie="".concat(e,"=").concat(t||"").concat(i,"; path=/")},eraseCookie=function(e){var t=new Date;t.setTime(t.getTime()-864e5),t="expires=".concat(t.toGMTString()),window.document.cookie="".concat(e,"=; ").concat(t,"; path=/")};var e=setInterval((function(){savePostEditor()}),3e4);savePostEditor=function(){var e,t=document.getElementsByClassName("wf_textarea_post")[0];t&&t.value&&(setCookie("post_editor_".concat(storeJs.postEditorId),t.value,30),e=new Date,jQuery("#saved_draft_msg").length?(t="".concat(storeJs.trans["message.post_saved_draft"]," ").concat(e.getHours(),":").concat(e.getMinutes()<10?"0":"").concat(e.getMinutes()),jQuery("#saved_draft_msg").html(t)):(e='\n                <div id="saved_draft_msg" class="wf_small_message">\n                '.concat(storeJs.trans["message.post_saved_draft"]," ").concat(e.getHours(),":").concat(e.getMinutes()<10?"0":"").concat(e.getMinutes(),"\n                </div>"),jQuery(".md-header").after(e)))}}))}]);